<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ribeiro e Filho - Assessoria em Acidentes | Login</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="login-page">
    <div class="login-container">
        <div class="login-card">
            <div class="login-header">
                <!-- Coloque sua logomarca aqui: <img src="logo.png" alt="Ribeiro e Filho" class="login-logo"> -->
                <div class="brand-name-block">
                    <span class="brand-name-block-main">Ribeiro e Filho</span>
                    <span class="brand-name-block-sub">Assessoria em Acidentes</span>
                </div>
                <p>Entre com suas credenciais para acessar o sistema</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username">Usuário</label>
                    <input type="text" id="username" name="username" placeholder="Digite seu usuário" required>
                </div>
                <div class="form-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" name="password" placeholder="Digite sua senha" required>
                </div>
                <div id="loginError" class="error-message" style="display: none;"></div>
                <button type="submit" class="btn btn-primary btn-block">Entrar</button>
            </form>
            <p class="login-hint">
                <a href="#" id="esqueciSenhaLink" class="link-esqueci-senha">Esqueci minha senha</a>
            </p>
        </div>
        <div class="login-footer">
            <p>© 2025 Ribeiro e Filho Assessoria em Acidentes</p>
        </div>
    </div>

    <!-- Modal Esqueci Senha -->
    <div id="modalEsqueciSenha" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Esqueci minha senha</h3>
                <button type="button" class="modal-close" id="fecharModalEsqueci" aria-label="Fechar">&times;</button>
            </div>
            <form id="formEsqueciSenha">
            <div class="modal-body">
                <p class="modal-desc">Informe o e-mail cadastrado para receber as instruções de redefinição de senha.</p>
                <div id="esqueciSenhaError" class="error-message" style="display: none;"></div>
                <div class="form-group">
                    <label for="emailRecuperacao">E-mail</label>
                    <input type="email" id="emailRecuperacao" name="email" placeholder="seu@email.com" required>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelarEsqueciSenha">Cancelar</button>
                <button type="submit" class="btn btn-primary">Enviar</button>
            </div>
        </form>
        </div>
    </div>

    <script>
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const errorDiv = document.getElementById('loginError');

            if (!username || !password) {
                errorDiv.textContent = 'Por favor, preencha todos os campos.';
                errorDiv.style.display = 'block';
                return;
            }

            sessionStorage.setItem('loggedIn', 'true');
            sessionStorage.setItem('username', username);
            window.location.href = 'dashboard.html';
        });

        // Modal Esqueci Senha
        const modalEsqueci = document.getElementById('modalEsqueciSenha');
        const linkEsqueci = document.getElementById('esqueciSenhaLink');
        const fecharModalBtn = document.getElementById('fecharModalEsqueci');
        const cancelarBtn = document.getElementById('cancelarEsqueciSenha');
        const formEsqueci = document.getElementById('formEsqueciSenha');
        const emailRecuperacao = document.getElementById('emailRecuperacao');
        const esqueciError = document.getElementById('esqueciSenhaError');

        function abrirModalEsqueci() {
            modalEsqueci.classList.add('active');
            emailRecuperacao.value = '';
            esqueciError.style.display = 'none';
            setTimeout(function() { emailRecuperacao.focus(); }, 100);
        }

        function fecharModalEsqueci() {
            modalEsqueci.classList.remove('active');
        }

        linkEsqueci.addEventListener('click', function(e) {
            e.preventDefault();
            abrirModalEsqueci();
        });

        fecharModalBtn.addEventListener('click', fecharModalEsqueci);
        cancelarBtn.addEventListener('click', fecharModalEsqueci);

        modalEsqueci.addEventListener('click', function(e) {
            if (e.target === modalEsqueci) fecharModalEsqueci();
        });

        formEsqueci.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = emailRecuperacao.value.trim();
            if (!email) {
                esqueciError.textContent = 'Informe seu e-mail.';
                esqueciError.style.display = 'block';
                return;
            }
            // Demonstração: simula envio (em produção faria requisição ao backend)
            esqueciError.style.display = 'none';
            fecharModalEsqueci();
            alert('Se o e-mail estiver cadastrado, você receberá as instruções para redefinir sua senha.');
        });
    </script>
</body>
</html>
